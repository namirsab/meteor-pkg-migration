import $ from 'jquery';
function importFromMeteorPackage(packageName, symbolName) {
    if(!Package) {
        throw new Error(`This package is only working inside Meteor apps`);
    }
    else if (!Package['reactive-var']) {
        throw new Error(`${symbolName} is required, add it with "meteor add ${packageName}"`);
    }
    else {
        return Package[packageName][symbolName];
    }
}
const ReactiveVar = importFromMeteorPackage('reactive-var', 'ReactiveVar');
const height = new ReactiveVar(window.outerHeight);
const width = new ReactiveVar(window.outerWidth);
const $window = $(window);

$(document).ready(function () {
    $window.resize(function () {
        height.set(window.outerHeight);
        width.set(window.outerWidth);
    });
});


module.exports = {
    WindowState: {
        isMaximized() {
            const currentHeight = height.get();
            const currentWidth = width.get();
            const availHeight = screen.availHeight * 0.9;
            const availWidth = screen.availWidth * 0.9;

            return !(currentHeight < availHeight || currentWidth < availWidth);
        },

        height: () => height.get(),
        width: () => width.get()
    }
}
